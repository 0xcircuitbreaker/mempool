<div class="container-xl" style="min-height: 335px" [class.widget]="widget" [class.full-height]="!widget">
  <h1 *ngIf="!widget" class="float-left" i18n="master-page.blocks">Accelerations</h1>
  <div *ngIf="!widget && isLoading" class="spinner-border ml-3" role="status"></div>

  <div class="clearfix"></div>

  <div style="min-height: 295px" *ngIf="accelerationList$ | async as accelerations">
    <table *ngIf="!accelerations || accelerations.length; else noData" class="table table-borderless table-fixed">
      <thead>
        <th class="txid text-left" i18n="dashboard.latest-transactions.txid">TXID</th>
        <th class="fee text-right" i18n="transaction.fee|Transaction fee">Final Fee</th>
        <th class="fee-delta text-right" i18n="accelerator.fee-delta">Max Bid</th>
        <th class="status text-right" i18n="transaction.status|Transaction Status">Status</th>
      </thead>
      <tbody *ngIf="accelerations; else skeleton" [style]="isLoading ? 'opacity: 0.75' : ''">
        <tr *ngFor="let acceleration of accelerations; let i= index;">
          <td class="txid text-left">
            <a [routerLink]="['/tx' | relativeUrl, acceleration.txid]">
              <app-truncate [text]="acceleration.txid" [lastChars]="5"></app-truncate>
            </a>
          </td>
          <td *ngIf="acceleration.feePaid" class="fee text-right">
            {{ (acceleration.feePaid - acceleration.baseFee - acceleration.vsizeFee) | number }} <span class="symbol" i18n="shared.sat|sat">sat</span>
          </td>
          <td *ngIf="!acceleration.feePaid" class="fee text-right">
            ~
          </td>
          <td class="fee-delta text-right">
            {{ acceleration.feeDelta | number }} <span class="symbol" i18n="shared.sat|sat">sat</span>
          </td>
          <td class="status text-right">
            <span *ngIf="acceleration.status === 'accelerating'" class="badge badge-warning" i18n="transaction.rbf.mined">Pending</span>
            <span *ngIf="acceleration.status === 'mined' || acceleration.status === 'completed'" class="badge badge-success" i18n="transaction.rbf.mined">Mined</span>
            <span *ngIf="acceleration.status === 'failed'" class="badge badge-danger" i18n="accelerator.canceled">Canceled</span>
          </td>
        </tr>
      </tbody>
      <ng-template #skeleton>
        <tbody>
          <tr *ngFor="let item of skeletonLines">
            <td class="txid text-left">
              <span class="skeleton-loader" style="max-width: 75px"></span>
            </td>
            <td class="fee text-right">
              <span class="skeleton-loader" style="max-width: 75px"></span>
            </td>
            <td class="fee-delta text-right">
              <span class="skeleton-loader" style="max-width: 75px"></span>
            </td>
            <td class="status text-right">
              <span class="skeleton-loader" style="max-width: 75px"></span>
            </td>
          </tr>
        </tbody>
      </ng-template>
    </table>

    <ng-template [ngIf]="!widget">
      <div class="clearfix"></div>
      <br>
    </ng-template>
  </div>

  <ng-template #noData>
    <div class="no-data">
      <span i18n="accelerations.no-accelerations-yet">There are no accelerations show here yet!</span>
    </div>
  </ng-template>
  
</div>
